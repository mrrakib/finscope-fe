<div id="transactionList" class="mt-3">
  <div class="card shadow-sm">
    <div
      class="card-header bg-light d-flex justify-content-between align-items-center"
    >
      <h5 class="mb-0"><i class="bi bi-list-ul me-2"></i> Transactions</h5>
      <button class="btn btn-primary" (click)="openModal()">
        <i class="bi bi-plus-circle"></i> Add Transaction
      </button>
    </div>

    <div class="card-body p-0">
      <div class="table-responsive">
        <table class="table table-hover mb-0">
          <thead>
            <tr>
              <th>Title</th>
              <th>Amount</th>
              <th>Date</th>
              <th>Category</th>
              <th>Type</th>
              <th class="text-end">Actions</th>
            </tr>
          </thead>
          <tbody>
            <!-- Example Transaction Row -->
            <tr>
              <td>Grocery Shopping</td>
              <td class="transaction-amount transaction-expense">- $45.00</td>
              <td>2025-07-23</td>
              <td>Food & Dining</td>
              <td>
                <span class="badge bg-danger transaction-type-badge"
                  >Expense</span
                >
              </td>
              <td class="text-end action-buttons">
                <button class="btn btn-sm btn-outline-primary" title="Edit">
                  <i class="bi bi-pencil"></i>
                </button>
                <button class="btn btn-sm btn-outline-danger" title="Delete">
                  <i class="bi bi-trash"></i>
                </button>
              </td>
            </tr>
            <tr>
              <td>Freelance Payment</td>
              <td class="transaction-amount transaction-income">+ $500.00</td>
              <td>2025-07-22</td>
              <td>Business</td>
              <td>
                <span class="badge bg-success transaction-type-badge"
                  >Income</span
                >
              </td>
              <td class="text-end action-buttons">
                <button class="btn btn-sm btn-outline-primary" title="Edit">
                  <i class="bi bi-pencil"></i>
                </button>
                <button class="btn btn-sm btn-outline-danger" title="Delete">
                  <i class="bi bi-trash"></i>
                </button>
              </td>
            </tr>
            <!-- End of Example Row -->
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<!-- Add Transaction Modal -->
<div class="modal fade" #addExpenseModal tabindex="-1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header bg-primary text-white">
        <h5 class="modal-title">
          <i class="bi bi-plus-square"></i> Add New Transaction
        </h5>
        <button
          type="button"
          class="btn-close btn-close-white"
          (click)="closeModal()"
        ></button>
      </div>
      <div class="modal-body">
        <form id="transactionFormModal">
          <div class="row">
            <div class="col-md-6 mb-3">
              <label for="title" class="form-label"
                >Title <span class="text-danger">*</span></label
              >
              <input type="text" class="form-control" id="title" required />
              <div class="invalid-feedback">Please provide a title.</div>
            </div>
            <div class="col-md-6 mb-3">
              <label for="amount" class="form-label"
                >Amount <span class="text-danger">*</span></label
              >
              <div class="input-group">
                <span class="input-group-text">$</span>
                <input
                  type="number"
                  class="form-control"
                  id="amount"
                  step="0.01"
                  min="0"
                  required
                />
                <div class="invalid-feedback">
                  Please provide a valid amount.
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6 mb-3">
              <label for="transaction_date" class="form-label"
                >Date <span class="text-danger">*</span></label
              >
              <input
                type="date"
                class="form-control"
                id="transaction_date"
                required
              />
              <div class="invalid-feedback">Please select a date.</div>
            </div>
            <div class="col-md-6 mb-3">
              <label for="category_id" class="form-label"
                >Category <span class="text-danger">*</span></label
              >
              <select class="form-select" id="category_id" required>
                <option value="">Select a category</option>
                <option value="1">Food & Dining</option>
                <option value="2">Transportation</option>
                <option value="3">Shopping</option>
                <option value="4">Entertainment</option>
                <option value="5">Bills & Utilities</option>
                <option value="6">Healthcare</option>
                <option value="7">Education</option>
                <option value="8">Travel</option>
                <option value="9">Salary</option>
                <option value="10">Business</option>
                <option value="11">Investment</option>
                <option value="12">Other</option>
              </select>
              <div class="invalid-feedback">Please select a category.</div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6 mb-3">
              <label class="form-label"
                >Transaction Type <span class="text-danger">*</span></label
              >
              <div class="transaction-type-group">
                <button
                  type="button"
                  class="transaction-type-btn expense"
                  [ngClass]="{ active: transactionType === 'Expense' }"
                  data-type="Expense"
                  (click)="toogleTransactionType('Expense')"
                >
                  <i class="bi bi-arrow-down-circle me-1"></i> Expense
                </button>
                <button
                  type="button"
                  class="transaction-type-btn income"
                  [ngClass]="{ active: transactionType === 'Income' }"
                  data-type="Income"
                  (click)="toogleTransactionType('Income')"
                >
                  <i class="bi bi-arrow-up-circle me-1"></i> Income
                </button>
              </div>
              <input type="hidden" id="transaction_type" value="Expense" />
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              (click)="closeModal()"
            >
              <i class="bi bi-x-circle"></i> Cancel
            </button>
            <button
              type="button"
              class="btn btn-primary"
              (click)="submitExpense()"
            >
              <i class="bi bi-check-circle"></i> Save Transaction
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
